"use strict";sap.ui.define(["sap/ui/base/ManagedObject","sap/m/Dialog","sap/m/Select","sap/m/Button","sap/ui/core/Item","sap/ui/model/resource/ResourceModel"],function(e,t,s,n,o,r){"use strict";const i=e.extend("cc.spreadsheetimporter.v1_1_1.TableSelector",{constructor:function t(s){e.prototype.constructor.call(this);this._tables=[];this._tables=this._getTableObject(s);this._i18nModel=new r({bundleName:"cc.spreadsheetimporter.v1_1_1.i18n.i18n"})},getTables:function e(){return this._tables},chooseTable:function e(){return new Promise((e,r)=>{if(this._tables.length===0){r(new Error("No tables found"))}if(this._tables.length===1){e(this._tables[0])}const i=new s;this._tables.forEach(e=>{i.addItem(new o({key:e.getId(),text:e.getBinding("items").getPath()}))});const a=this._i18nModel.getResourceBundle();const l=new t({title:a.getText("spreadsheetimporter.tableSelectorDialogTitle"),type:"Message",content:[i],beginButton:new n({text:a.getText("spreadsheetimporter.ok"),press:()=>{const t=i.getSelectedKey();const s=this._tables.find(e=>e.getId()===t);e(s);l.close()}}),afterClose:()=>l.destroy(),endButton:new n({text:a.getText("close"),press:()=>{r(new Error(a.getText("close")));l.close()}})});l.open()})},_getTableObject:function e(t){return t.findAggregatedObjects(true,function(e){return e.isA("sap.m.Table")||e.isA("sap.ui.table.Table")})},get tables(){return this._tables},set tables(e){this._tables=e}});return i});
//# sourceMappingURL=TableSelector.js.map